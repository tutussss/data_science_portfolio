<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns:svg="http://www.w3.org/2000/svg">
<head>
  <meta charset="UTF-8" />
  <title>Transforming the data</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css" />
  <link type="text/css" rel="stylesheet" media="all" href="core.css" />
</head>
<body>
  <div id="sbo-rt-content"><section>

    <header>

      <h1 class="header-title">Transforming the data</h1>

    </header>

    <article>

      <p>Once we've successfully connected the data and added data sources to the canvas, we can start to build our flow:</p>

      <ol>

        <li>Click on the + sign near the data source to choose the next step:</li>

      </ol>

      <p class="CDPAlignCenter CDPAlign">

        <img class="aligncenter size-full wp-image-2078 image-border" src="images/d320ab2e-94c6-4b6e-9262-05a8add7406b.png" style="width:21.08em;height:15.92em;" />

      </p>

      <p style="padding-left: 60px">We have the following options:</p>

      <table style="border-collapse: collapse;width: 100%" border="1">

        <tbody>

          <tr>
            <td>
              <p class="CDPAlignCenter CDPAlign"><strong>Steps</strong></p>
            </td>
            <td>
              <p class="CDPAlignCenter CDPAlign"><strong>Description</strong></p>
            </td>
          </tr>

          <tr>
            <td>
              <p><span class="packt_screen">Add Step</span></p>
            </td>
            <td>
              <p>This step will allow us to look at the data and modify it.</p>
            </td>
          </tr>

          <tr>
            <td>
              <p><span class="packt_screen">Add Aggregate</span></p>
            </td>
            <td>
              <p>We can calculate a new measure, using functions such as <kbd>SUM</kbd>, <kbd>AVG</kbd>, and <kbd>COUNT</kbd>.</p>
            </td>
          </tr>

          <tr>
            <td>
              <p><span class="packt_screen">Add Pivot</span></p>
            </td>
            <td>
              <p>We can transpose columns into rows. In other words, we can convert cross-table into a normal table.</p>
            </td>
          </tr>

          <tr>
            <td>
              <p><span class="packt_screen">Add Join</span></p>
            </td>
            <td>
              <p>We can join data streams using the <kbd>INNER</kbd>, <kbd>LEFT</kbd>, <kbd>RIGHT</kbd>, and <kbd>OUTER</kbd> joins. Moreover, Tableau will visualize and color results on the fly.</p>
            </td>
          </tr>

          <tr>
            <td>
              <p><span class="packt_screen">Add Union</span></p>
            </td>
            <td>
              <p>We can merge multiple streams into one.</p>
            </td>
          </tr>

          <tr>
            <td>
              <p><span class="packt_screen">Add Output</span></p>
            </td>
            <td>
              <p>This is the final step, where we'll generate the result set. We can write into the CSV file or the Tableau data source. In addition, we can publish directly to the Tableau Server.</p>
            </td>
          </tr>

        </tbody>

      </table>

      <p> </p>

      <p style="padding-left: 90px">In our case, we will add the <span class="packt_screen">Clean</span> step and learn about our dataset.</p>

      <ol start="2">

        <li>Click on the new step, <span class="packt_screen">Clean 1</span>, and explore the <span class="packt_screen">Profile</span> pane, as shown in the following screenshot:</li>

      </ol>

      <p class="CDPAlignCenter CDPAlign">

        <img class="aligncenter size-full wp-image-2079 image-border" src="images/ca60613b-7bbc-4932-b3eb-af174bb34534.png" style="width:36.33em;height:43.75em;" />

      </p>

      <p class="mce-root"></p>

      <p style="padding-left: 60px">Tableau Prep creates cards for each column. At this step, we can modify our data by changing the data type, creating a new column, and filtering values. In addition, we can see the connection between values. For example, if we click to any value in the data card, it'll show us dependent values. Moreover, it'll show us a histogram of value distributions. Data card can have two <strong>View States</strong>â€”<span class="packt_screen">Detail</span> (column #2) and <span class="packt_screen">Summary</span> (column #1), that, is distinct values or grouped-by values.</p>

      <ol start="3">

        <li>Rename the columns. The first column should be <span class="packt_screen">Number Installs</span> and the second should be <span class="packt_screen">Install Date</span>.</li>

        <li>Union the datasets. Click <span class="packt_screen">+</span> after the <span class="packt_screen">Clean 1</span> step and choose <span class="packt_screen">Union</span>. Drag the <span class="packt_screen">Android</span> data source and drop it on top of the <span class="packt_screen">Union</span> step. At the same time, we can add <strong>Union 1 step</strong>, when we drag and drop the <span class="packt_screen">Android</span> dataset on top of the <span class="packt_screen">Clean</span> step, it will ask us to choose the appropriate step, such as <span class="packt_screen">Join</span> or <span class="packt_screen">Union</span>:</li>

      </ol>

      <p class="CDPAlignCenter CDPAlign">

        <img class="aligncenter size-full wp-image-2080 image-border" src="images/98fcb387-bc17-44fe-b3e7-01825666e5d9.png" style="width:162.50em;height:87.92em;" />

      </p>

      <p style="padding-left: 60px">You will see that the result set doesn't look good in the <span class="packt_screen">Profile</span> pane because we didn't rename the <span class="packt_screen">Android</span> dataset column names and you can see the orange (Android) data still in different columns. Moreover, our date is in string format.</p>

      <ol start="5">

        <li>Click on the <span class="packt_screen">Android</span> dataset and rename the column names the same way we did for <span class="packt_screen">IOS</span>. Click on the <span class="packt_screen">Android</span> Data Source Input and rename both <kbd>Field Name</kbd> to the <span class="packt_screen">Install Date</span> and <span class="packt_screen">Number Installs accordingly</span>:</li>

      </ol>

      <p class="CDPAlignCenter CDPAlign">

        <img class="aligncenter size-full wp-image-2081 image-border" src="images/8411f6fa-55bf-470b-98c4-7f07fcd8ca0a.png" style="width:118.83em;height:71.75em;" />

      </p>

      <ol start="6">

        <li>Click on the <span class="packt_screen">Union</span> step and change the date format:</li>

      </ol>

      <p class="CDPAlignCenter CDPAlign">

        <img class="aligncenter size-full wp-image-2083 image-border" src="images/fbba83b8-fd03-4b24-b362-51b1d46e48bb.png" style="width:103.25em;height:67.00em;" />

      </p>

      <p class="mce-root"></p>

      <ol start="7">

        <li>Let's also create new calculated fields. We don't have an OS name. We can use the <strong>Table Names</strong> system field in order to extract the phone's OS name. In order to create a new calculated field. In order to do it, click on the <strong>Union 1</strong> step and click on the <strong>Table Names</strong> pane  and choose <strong>Create Calculated Field...</strong>:</li>

      </ol>

      <p class="CDPAlignCenter CDPAlign">

        <img src="images/772988af-5fb1-4bd3-8941-c0c2efab73b2.png" style="width:50.42em;height:35.25em;" />

      </p>

      <p class="mce-root"></p>

      <p style="padding-left: 60px">Then you can write this statement. Tableau Prep has the same syntax as Tableau Desktop.</p>

      <p class="CDPAlignCenter CDPAlign">

        <img class="aligncenter size-full wp-image-2084 image-border" src="images/05cb2b28-d300-4797-b78f-efd2292efb92.png" style="width:141.08em;height:82.08em;" />

      </p>

      <p style="padding-left: 60px"> This will add one more field to our dataset. Now, we need to drop the original <span class="packt_screen">Table Name</span> field. The calculated field won't disappear. In order to drop field, you should click on <span class="packt_screen">Remove Field</span> at Data Pane of this field. </p>

      <p>As a result, we've got the correct dataset for further analysis in Tableau.</p>

      <p> </p>

    </article>

  </section>

</div>
</body>
</html>